DROP DATABASE IF EXISTS gestemp;
CREATE DATABASE gestemp DEFAULT CHARACTER SET utf8 COLLATE utf8_spanish_ci;
CREATE USER IF NOT EXISTS gestemp@localhost IDENTIFIED BY 'gestemp2023';
GRANT ALL ON gestemp.* TO 'gestemp'@'localhost';


USE gestemp;

CREATE TABLE empleados (
    id INT(10) NOT NULL AUTO_INCREMENT,
    nombre VARCHAR(255) NOT NULL,
    ap1 VARCHAR(255) NOT NULL,
    ap2 VARCHAR(255) NULL,
    email VARCHAR(255) NOT NULL,
    PRIMARY KEY (id)
)ENGINE = INNODB; 
CREATE TABLE tareas (
    id INT(10) NOT NULL AUTO_INCREMENT,
    descripcion TEXT NOT NULL,
    fecha_limite DATE NOT NULL,
    completada TINYINT(1) NOT NULL DEFAULT 0,
    PRIMARY KEY (id)
)ENGINE = INNODB; 
CREATE TABLE empleados_tareas (
    id_empleado INT(10) NOT NULL,
    id_tarea INT(10) NOT NULL,
    PRIMARY KEY (id_empleado, id_tarea),
    FOREIGN KEY (id_empleado) REFERENCES empleados(id),
    FOREIGN KEY (id_tarea) REFERENCES tareas(id)
)ENGINE = INNODB; 
-- Insertar empleados
INSERT INTO empleados (id, nombre, ap1, ap2, email) VALUES
    (1,'Cleofás','Méndez','Castro','cleofás.méndez.castro@gmail.com'),
    (2,'Joaquín','Soler','Sáez','joaquín.soler.sáez@gmail.com'),
    (3,'Ángel','Fernández','Domínguez','ángel.fernández.domínguez@gmail.com'),
    (4,'Ildefonso','Montero','Serrano','ildefonso.montero.serrano@gmail.com'),
    (5,'Daciano','Gil','Lozano','daciano.gil.lozano@gmail.com'),
    (6,'Isidro','Castillo','Navarro','isidro.castillo.navarro@gmail.com'),
    (7,'Santiago','Mora','Flores','santiago.mora.flores@gmail.com'),
    (8,'Claudia','Herrero','Cambil','claudia.herrero.cambil@gmail.com'),
    (9,'Luis','Gutiérrez','Soto','luis.gutiérrez.soto@gmail.com'),
    (10,'Patricio','Martínez','Castillo','patricio.martínez.castillo@gmail.com'),
    (11,'Leandro','Crespo','Medina','leandro.crespo.medina@gmail.com'),
    (12,'Demócrito','Cano','Fuentes','demócrito.cano.fuentes@gmail.com'),
    (13,'Constancio','Vázquez','Santana','constancio.vázquez.santana@gmail.com'),
    (14,'Octavio','Fernández','Cortés','octavio.fernández.cortés@gmail.com'),
    (15,'Antonio','Peña','Torres','antonio.peña.torres@gmail.com'),
    (16,'Xavier','Campos','Gallego','xavier.campos.gallego@gmail.com'),
    (17,'Evaristo','Álvarez','Méndez','evaristo.álvarez.méndez@gmail.com'),
    (18,'Timoteo','Nieto','Castillo','timoteo.nieto.castillo@gmail.com'),
    (19,'Eusebio','Garrido','Gil','eusebio.garrido.gil@gmail.com'),
    (20,'Jesús','Pérez','Márquez','jesús.pérez.márquez@gmail.com'),
    (21,'Joan','Esteban','Marín','joan.esteban.marín@gmail.com'),
    (22,'Vladimiro','Blesa','Herrera','vladimiro.blesa.herrera@gmail.com'),
    (23,'Edmundo','Soto','Jiménez','edmundo.soto.jiménez@gmail.com'),
    (24,'Josefina','Moreno','Hidalgo','josefina.moreno.hidalgo@gmail.com'),
    (25,'Virginia','Hernández','Ortega','virginia.hernández.ortega@gmail.com');

-- Insertar tareas
-- Insertar tareas
INSERT INTO tareas (id, descripcion, fecha_limite, completada) VALUES
    (1,'Hacer informe de ventas', '2023-03-01', 0),
    (2,'Preparar presentación para reunión', '2023-02-16', 1),
    (3,'Resolver incidencias del sistema', '2023-02-28', 0),
    (4,'Realizar mantenimiento del servidor', '2023-03-10', 0),
    (5,'Desarrollar nueva funcionalidad del sistema', '2023-03-15', 0),
    (6,'Contactar con proveedores', '2023-02-25', 1),
    (7,'Realizar seguimiento de clientes', '2023-02-17', 1),
    (8,'Preparar documentación del proyecto', '2023-03-05', 0),
    (9,'Realizar prueba de rendimiento', '2023-03-12', 0),
    (10,'Hacer análisis de datos', '2023-03-20', 0),
    (11,'Hacer seguimiento de calidad', '2023-03-08', 0),
    (12,'Realizar encuestas de satisfacción', '2023-02-15', 1),
    (13,'Realizar pruebas unitarias', '2023-03-15', 0),
    (14,'Crear nuevos casos de prueba', '2023-03-25', 0),
    (15,'Realizar mantenimiento de equipos', '2023-03-10', 0),
    (16,'Desarrollar nuevos módulos del sistema', '2023-03-20', 0),
    (17,'Crear base de conocimientos', '2023-03-05', 0),
    (18,'Hacer seguimiento de objetivos', '2023-02-12', 1),
    (19,'Realizar pruebas de integración', '2023-03-22', 0),
    (20,'Resolver incidencias de clientes', '2023-03-18', 0),
    (21,'Realizar seguimiento de proveedores', '2023-03-08', 0),
    (22,'Crear guías de usuario', '2023-03-15', 0),
    (23,'Realizar pruebas de aceptación', '2023-02-15', 1),
    (24,'Desarrollar API para integraciones', '2023-03-20', 0),
    (25,'Crear planes de contingencia', '2023-03-10', 0),
    (26,'Hacer seguimiento de métricas de desempeño', '2023-03-18', 0),
    (27,'Realizar pruebas de seguridad', '2023-03-15', 0),
    (28,'Desarrollar integraciones con sistemas externos', '2023-03-25', 0),
    (29,'Crear reportes de seguimiento', '2023-03-22', 1),
    (30,'Realizar pruebas de estrés', '2023-03-20', 0);

-- Insertar relación las tareas asignadas a los empleados
INSERT INTO empleados_tareas (id_empleado, id_tarea) VALUES
    (1,4),
    (1,10),
    (1,11),
    (1,13),
    (1,14),
    (1,20),
    (2,2),
    (2,9),
    (2,17),
    (2,21),
    (2,29),
    (3,3),
    (3,8),
    (3,9),
    (3,12),
    (3,13),
    (3,16),
    (3,28),
    (3,30),
    (4,4),
    (4,13),
    (4,14),
    (4,25),
    (4,29),
    (4,30),
    (5,6),
    (5,12),
    (5,18),
    (5,23),
    (5,29),
    (6,2),
    (6,13),
    (6,15),
    (6,26),
    (7,7),
    (7,9),
    (7,13),
    (7,14),
    (7,18),
    (7,23),
    (8,1),
    (8,7),
    (8,11),
    (8,17),
    (8,19),
    (8,22),
    (9,4),
    (9,8),
    (9,10),
    (9,13),
    (9,16),
    (9,17),
    (9,23),
    (9,25),
    (9,29),
    (9,30),
    (10,1),
    (10,9),
    (10,13),
    (10,14),
    (10,21),
    (10,30),
    (11,9),
    (11,19),
    (11,21),
    (11,30),
    (12,1),
    (12,5),
    (12,9),
    (12,11),
    (12,14),
    (12,22),
    (12,23),
    (12,26),
    (12,30),
    (13,6),
    (13,7),
    (13,9),
    (13,10),
    (13,21),
    (13,22),
    (14,5),
    (14,6),
    (14,9),
    (14,12),
    (14,13),
    (14,18),
    (14,20),
    (14,28),
    (15,4),
    (15,7),
    (15,14),
    (15,15),
    (15,21),
    (15,23),
    (15,26),
    (15,27),
    (15,29),
    (16,6),
    (16,18),
    (16,23),
    (16,24),
    (16,28),
    (17,1),
    (17,7),
    (17,9),
    (17,12),
    (17,29),
    (18,4),
    (18,5),
    (18,8),
    (18,12),
    (18,15),
    (18,18),
    (18,21),
    (18,27),
    (18,29),
    (18,30),
    (19,2),
    (19,4),
    (19,5),
    (19,6),
    (19,7),
    (19,12),
    (19,18),
    (19,24),
    (19,27),
    (20,1),
    (20,3),
    (20,12),
    (20,15),
    (20,21),
    (20,22),
    (21,1),
    (21,2),
    (21,6),
    (21,7),
    (21,10),
    (21,17),
    (21,21),
    (21,22),
    (21,24),
    (21,29),
    (22,11),
    (22,13),
    (22,18),
    (22,19),
    (22,23),
    (23,2),
    (23,3),
    (23,11),
    (23,13),
    (23,14),
    (23,17),
    (23,20),
    (23,21),
    (23,22),
    (23,23),
    (24,3),
    (24,10),
    (24,14),
    (24,19),
    (24,20),
    (24,26),
    (25,2),
    (25,20),
    (25,22),
    (25,24),
    (25,30);